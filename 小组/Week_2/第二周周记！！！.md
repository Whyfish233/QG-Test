# 第二周周记！！！



### 小组作业思考题：

#### 	1.对于有向图，有权图，公式哪些参数需要改变？

​		答：公式的参数改变如下：

​			有向图：

​					aij=1表示第i个智能体指向第j个智能体的边

​					(求和符号)（k=1)(N)aik为第i个智能体的出边

​			有权图：

​					aij=1表示第i个智能体与第j个智能体连接的权重

​					(求和符号)（k=1)(N)aik为第i个智能体的所有出边的权重之和

​			有向有权图：

​					a_{ij}=1表示第i个智能体指向第j个智能体连接的权重

​					(求和符号)（k=1)(N)aik为第i个智能体的所有出边的权重之和

#### 		2.尝试推导公式的矩阵形式:

​			答：已知其wij(第i个智能体对于第j个智能体的加权系数)参数公式为：
$$
w_{ij} = \frac{a_{ij}}{\sum_{k=1}^{N} a_{ik}}
$$
​				已知xi(t+1)的状态值，在多智能体一致性算法的使用公式为：
$$
\begin{align*}
x_i^{(t+1)} = \sum_{j=1}^N w_{ij}x_j^{(t)}, \quad t=0,1,2,...,T
\end{align*}
$$
​				那我们可以将这个几个公式转化为

​				1.状态值在多智能体一致性算法的公式
$$
权重矩阵：

W = \begin{bmatrix} 
w_{11} & \cdots & w_{1N} \\
\vdots & \ddots & \vdots \\
w_{N1} & \cdots & w_{NN}
\end{bmatrix}

状态更新方程：

\mathbf{x}^{(t+1)} = W \mathbf{x}^{(t)}, \quad \mathbf{x}^{(t)} = \begin{bmatrix} x_1^{(t)} \\ \vdots \\ x_N^{(t)} \end{bmatrix}
$$
​				

​				2.参数公式为：

​				
$$
邻接矩阵 


A = \begin{bmatrix}
a_{11} & \cdots & a_{1N} \\
\vdots & \ddots & \vdots \\
a_{N1} & \cdots & a_{NN}
\end{bmatrix}
$$

$$
D = \text{diag}(A \mathbf{1}) = \begin{bmatrix}
\sum_{k=1}^N a_{1k} & 0 & \cdots & 0 \\
0 & \sum_{k=1}^N a_{2k} & \cdots & 0 \\
\vdots & \vdots & \ddots & \vdots \\
0 & 0 & \cdots & \sum_{k=1}^N a_{Nk}
\end{bmatrix}
（粗体1是指全是1的列向量）
$$

$$
W = D^{-1} A = \begin{bmatrix}
\frac{1}{\sum_{k=1}^N a_{1k}} & 0 & \cdots & 0 \\
0 & \frac{1}{\sum_{k=1}^N a_{2k}} & \cdots & 0 \\
\vdots & \vdots & \ddots & \vdots \\
0 & 0 & \cdots & \frac{1}{\sum_{k=1}^N a_{Nk}}
\end{bmatrix}
\begin{bmatrix}
a_{11} & \cdots & a_{1N} \\
\vdots & \ddots & \vdots \\
a_{N1} & \cdots & a_{NN}
\end{bmatrix}
$$

#### 3.所有智能体状态最终趋于一致，一致值为多少？在各种因素影响下，智能体状态还会趋于一致吗？

##### 	1. 理想情况下的收敛值
​	所有智能体状态收敛到初始状态的均值：
$$
\lim_{t \to \infty} \mathbf{x}^{(t)} = \frac{1}{N} \sum_{i=1}^N x_i^{(0)} \cdot \mathbf{1}, \quad \mathbf{1} = \begin{bmatrix} 1 \\ 1 \\ 1 \end{bmatrix}
$$

​	**示例**：  
​	初始状态 \( \mathbf{x}^{(0)} = [1, 2, 3]^T \)，则一致值为：
$$
x^* = \frac{1 + 2 + 3}{3} = 2 \implies \lim_{t \to \infty} \mathbf{x}^{(t)} = \begin{bmatrix} 2 \\ 2 \\ 2 \end{bmatrix}
$$

##### 	2. 外部因素影响分析

##### 	（1）噪声干扰
$$
x_i^{(t+1)} = \sum_{j=1}^N w_{ij} x_j^{(t)} + \eta_i^{(t)}, \quad \eta_i^{(t)} \sim \mathcal{N}(0, 0.1)
$$
- ​		状态会在 \(x^*\) 附近波动。

##### 	（2）动态拓扑
​		若连接关系随时间变化：
$$
\mathbf{x}^{(t+1)} = W^{(t)} \mathbf{x}^{(t)}
$$
- 若某些时刻图不连通，一致性可能无法达成。

##### 	（3）外部控制输入
$$
\mathbf{x}^{(t+1)} = W \mathbf{x}^{(t)} + \mathbf{u}, \quad \mathbf{u} = \begin{bmatrix} 0.1 \\ 0 \\ -0.1 \end{bmatrix}
$$
- 收敛值可能变为 \( (I - W)^{-1} \mathbf{u} \)。

#### 4.理解离散时间和连续时间下算法的异同



- ```latex
  ## 离散时间 vs 连续时间一致性算法
  
  ### 1. 数学形式对比
  | **特性**          | **离散时间算法**                          | **连续时间算法**                        |
  |-------------------|------------------------------------------|----------------------------------------|
  | **更新规则**       | $$ \mathbf{x}^{(t+1)} = W \mathbf{x}^{(t)} $$ | $$ \frac{d\mathbf{x}(t)}{dt} = -L \mathbf{x}(t) $$ |
  | **矩阵核心**       | 行随机的 $$ W $$                         | 拉普拉斯矩阵 $$ L = D - A $$           |
  
  ### 2. 收敛条件
  - **共同要求**：图必须连通。
  - **离散时间**：$$ W $$ 的行和均为 1。
  - **连续时间**：$$ L $$ 的特征值决定收敛速度。
  
  ### 3. 异同总结
  **相同点**：  
  - 收敛到初始状态的算术平均值。
  
  **不同点**：  
  1. 离散时间适合数字计算，连续时间适合物理建模。
  2. 离散时间迭代步长固定，连续时间状态连续变化。
  ```

### 离散时间 vs 连续时间算法

**相同点**：
- 目标：收敛到初始状态均值 \( \frac{1}{N} \sum_{i=1}^N x_i^{(0)} \)。
- 要求：图必须连通。

**不同点**：

1. **更新规则**：
   - 离散时间：\( \mathbf{x}^{(t+1)} = W \mathbf{x}^{(t)} \)
   - 连续时间：\( \frac{d\mathbf{x}(t)}{dt} = -L \mathbf{x}(t) \)
2. **矩阵核心**：
   - 离散时间：权重矩阵 \( W \)（行随机）
   - 连续时间：拉普拉斯矩阵 \( L = D - A \)

- 离散时间更新：x_next = W * x_current  
  （W 是权重矩阵，行和为 1）
- 连续时间更新：dx/dt = -L * x(t)  
  （L 是拉普拉斯矩阵，L = D - A）



# 智能体的聚类是什么？？？急急急

？？？